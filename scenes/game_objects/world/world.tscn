[gd_scene load_steps=26 format=3 uid="uid://nhikx0701dde"]

[ext_resource type="Script" path="res://scenes/game_objects/world/world.gd" id="1_1gpr2"]
[ext_resource type="PackedScene" uid="uid://bgpfi56qnhwke" path="res://scenes/game_objects/block/square_block.tscn" id="2_5e020"]
[ext_resource type="PackedScene" uid="uid://d0mda831q1sey" path="res://scenes/game_objects/block/straight_block.tscn" id="3_mpby0"]
[ext_resource type="PackedScene" uid="uid://bsax2h4lvelnp" path="res://scenes/game_objects/block/z_left_block.tscn" id="4_7an0d"]
[ext_resource type="PackedScene" uid="uid://djath7mvf6hxj" path="res://scenes/game_objects/block/z_right_block.tscn" id="5_00evr"]
[ext_resource type="PackedScene" uid="uid://wi5cc17m8s0j" path="res://scenes/game_objects/block/l_left_block.tscn" id="6_aqv8q"]
[ext_resource type="PackedScene" uid="uid://npxcnna5262h" path="res://scenes/game_objects/block/l_right_block.tscn" id="7_tde5x"]
[ext_resource type="PackedScene" uid="uid://dyu54f2o0xg6e" path="res://scenes/game_objects/block/t_block.tscn" id="8_ea835"]
[ext_resource type="PackedScene" uid="uid://f5wu04sewl4s" path="res://scenes/game_objects/lava/lava.tscn" id="9_wbpsf"]
[ext_resource type="PackedScene" uid="uid://cafhdxx55lp0s" path="res://scenes/pickups/pickup_block_pouch.tscn" id="9_yddcy"]
[ext_resource type="PackedScene" uid="uid://d1n1vct1l8nlp" path="res://scenes/pickups/pickup_chance.tscn" id="10_awibq"]
[ext_resource type="PackedScene" uid="uid://bd1abuvhhwj0" path="res://scenes/game_objects/bomb/bomb.tscn" id="10_i1itg"]
[ext_resource type="PackedScene" uid="uid://thqm0kkbuhhh" path="res://scenes/game_objects/heaven/heaven.tscn" id="11_s4k6m"]
[ext_resource type="PackedScene" uid="uid://c0o7br7yshcri" path="res://scenes/game_objects/biome/snow_patch.tscn" id="11_x7j10"]
[ext_resource type="PackedScene" uid="uid://babff5b71d0ke" path="res://scenes/game_objects/biome/vines_patch.tscn" id="12_h4umr"]
[ext_resource type="Texture2D" uid="uid://bgjejrq2i1iwr" path="res://assets/icon.svg" id="15_efs7d"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_7m41u"]
particle_flag_rotate_y = true
emission_shape = 1
emission_sphere_radius = 10.0
spread = 0.0
initial_velocity_min = 1.0
initial_velocity_max = 2.0
angular_velocity_min = -50.0
angular_velocity_max = 50.0
gravity = Vector3(0, 0, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3nsl2"]
transparency = 1
cull_mode = 2
albedo_texture = ExtResource("15_efs7d")

[sub_resource type="PlaneMesh" id="PlaneMesh_vt4n4"]
material = SubResource("StandardMaterial3D_3nsl2")
size = Vector2(0.2, 0.2)
orientation = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_763f1"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_kedp3"]
size = Vector3(10, 5, 10)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_yq2r8"]
plane = Plane(1, 0, 0, 0)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_elevo"]
plane = Plane(-1, 0, 0, 0)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_mra5s"]
plane = Plane(0, 0, -1, 0)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_jaark"]
plane = Plane(0, 0, 1, 0)

[node name="World" type="Node3D"]
script = ExtResource("1_1gpr2")
block_scenes = Array[PackedScene]([ExtResource("2_5e020"), ExtResource("3_mpby0"), ExtResource("4_7an0d"), ExtResource("5_00evr"), ExtResource("6_aqv8q"), ExtResource("7_tde5x"), ExtResource("8_ea835")])
block_pickup_scene = ExtResource("9_yddcy")
chance_pickup_scene = ExtResource("10_awibq")
snow_patch_scene = ExtResource("11_x7j10")
vines_patch_scene = ExtResource("12_h4umr")
bomb_scene = ExtResource("10_i1itg")

[node name="ParticleHolder" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 20, 0)

[node name="FallingLeafParticles" type="GPUParticles3D" parent="ParticleHolder"]
unique_name_in_owner = true
emitting = false
amount = 12
lifetime = 5.0
visibility_aabb = AABB(-5, -20, -5, 10, 20, 10)
process_material = SubResource("ParticleProcessMaterial_7m41u")
draw_pass_1 = SubResource("PlaneMesh_vt4n4")

[node name="FallingSnowParticles" type="GPUParticles3D" parent="ParticleHolder"]
unique_name_in_owner = true
emitting = false
amount = 80
lifetime = 5.0
visibility_aabb = AABB(-5, -20, -5, 10, 20, 10)
process_material = SubResource("ParticleProcessMaterial_7m41u")
draw_pass_1 = SubResource("PlaneMesh_vt4n4")

[node name="WindParticles" type="GPUParticles3D" parent="ParticleHolder"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, -15, 0)
emitting = false
amount = 240
lifetime = 5.0
visibility_aabb = AABB(-5, -10, -5, 20, 15, 10)
process_material = SubResource("ParticleProcessMaterial_7m41u")
draw_pass_1 = SubResource("PlaneMesh_vt4n4")

[node name="SpaceParticles" type="GPUParticles3D" parent="ParticleHolder"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.16432, -15, 0)
emitting = false
amount = 20
lifetime = 5.0
visibility_aabb = AABB(-5, -5, -5, 20, 10, 10)
process_material = SubResource("ParticleProcessMaterial_7m41u")
draw_pass_1 = SubResource("PlaneMesh_vt4n4")

[node name="Heaven" parent="." instance=ExtResource("11_s4k6m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50.5, 0)

[node name="Floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
shape = SubResource("BoxShape3D_763f1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2, 0)
mesh = SubResource("BoxMesh_kedp3")

[node name="Lava" parent="." instance=ExtResource("9_wbpsf")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.75221, 0)
speed = 0.05
discrete = true

[node name="Wall" type="StaticBody3D" parent="."]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.1, 0, 0)
shape = SubResource("WorldBoundaryShape3D_yq2r8")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.1, 0, 0)
shape = SubResource("WorldBoundaryShape3D_elevo")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5.1)
shape = SubResource("WorldBoundaryShape3D_mra5s")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5.1)
shape = SubResource("WorldBoundaryShape3D_jaark")

[node name="BombTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 5.0

[node name="SnowTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 5.0

[node name="VinesTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 10.0

[node name="WindStartTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 10.0
one_shot = true

[node name="WindStopTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 3.0
one_shot = true
